<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Formul√°rio de Entradas de Despesas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      background-color: white;
      color: black;
      transition: background 0.3s, color 0.3s;
    }
    label { display: block; margin-top: 10px; }
    input, select, textarea { width: 100%; max-width: 400px; padding: 5px; }
    .campo-extra { margin-left: 20px; }
    .dark-mode {
      background-color: #121212;
      color: white;
    }
    .toggle-mode {
      cursor: pointer;
      font-size: 24px;
      border: none;
      background: none;
      float: right;
    }
    .success-message {
      display: none;
      margin-top: 10px;
      color: green;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>
    Formul√°rio de Entradas de Despesas
    <button class="toggle-mode" onclick="toggleDarkMode()">üåô</button>
  </h1>

  <p class="success-message" id="successMessage">‚úÖ Enviado com sucesso!</p>

  <form id="expenseForm" action="https://docs.google.com/forms/d/e/1FAIpQLSfeLAHorBEbFGfc0W3Dkymowz0eQuS3Sy036E0WutYNzXwqVg/formResponse" method="post" enctype="multipart/form-data" target="hidden_iframe">
    
    <!-- DATA -->
    <label for="data">Data (dd/mm/aaaa):</label>
    <input type="date" id="data" required>
    <input type="hidden" id="data_year" name="entry.2025452004_year">
    <input type="hidden" id="data_month" name="entry.2025452004_month">
    <input type="hidden" id="data_day" name="entry.2025452004_day">

    <!-- CREDOR -->
    <label for="credor">Credor:</label>
    <input type="text" id="credor" name="entry.2050636307" required>

    <!-- CATEGORIA DE DESPESA -->
    <label for="categoria">Categoria de Despesa:</label>
    <select id="categoria" name="entry.1832198028" required>
      <option value="">Selecione...</option>
      <option value="Materiais">1.1 - Compra de Materiais</option>
      <option value="equipamento">1.2 - Aquisi√ß√£o de equipamento</option>
      <option value="M√£o de Obra">1.3 - Servi√ßos de M√£o de Obra</option>
      <option value="Profissionais">1.4 - Servi√ßos Profissionais</option>
      <option value="√Ågua / Luz">1.5 - √Ågua / Luz</option>
      <option value="Impostos">1.6 - Impostos</option>
    </select>

    <!-- FORMA DE PAGAMENTO -->
    <label for="pagamento">Forma de Pagamento:</label>
    <select id="pagamento" name="entry.834328677" required>
      <option value="">Selecione...</option>
      <option value="Pix TED">2.1 - PIX / TED</option>
      <option value="Cart√£o de Cr√©dito">2.2 - Cart√£o de Cr√©dito</option>
      <option value="Cart√£o de D√©bito">2.3 - Cart√£o de D√©bito</option>
      <option value="Boleto Banc√°rio">2.4 - Boleto Banc√°rio</option>
      <option value="Dinheiro">2.5 - Dinheiro</option>
    </select>

    <!-- DESCRI√á√ÉO -->
    <label for="descricao">Descri√ß√£o:</label>
    <textarea id="descricao" name="entry.720518645" rows="4" required></textarea>

    <!-- VALOR PAGO -->
    <label for="valor">Valor pago (R$):</label>
    <input type="number" step="0.01" id="valor" name="entry.353680570" required>

    <!-- CUSTEADO POR -->
    <label for="custeado">Custeado por:</label>
    <select id="custeado" name="entry.330882704" required>
      <option value="">Selecione...</option>
      <option value="Marcelo">Marcelo Pessoa</option>
      <option value="Lucas">Lucas Felix</option>
      <option value="Felix">Felix Pessoa</option>
    </select>

    <!-- COMPROVANTE DE PAGAMENTO -->
    <label for="comprovante">Comprovante de pagamento:</label>
    <input type="file" id="comprovante" name="entry.1051354235">

    <!-- RECIBO/NOTA FISCAL -->
    <label for="nota">Recibo/Nota Fiscal:</label>
    <input type="file" id="nota" name="entry.1001310029">

    <br><br>
    <input type="submit" value="Enviar">
  </form>

  <!-- Iframe oculto para capturar a resposta sem redirecionar -->
  <iframe name="hidden_iframe" style="display:none;"></iframe>

  <script>
    // Alternar entre modo claro e escuro
    function toggleDarkMode() {
      document.body.classList.toggle('dark-mode');
      let button = document.querySelector('.toggle-mode');
      button.textContent = document.body.classList.contains('dark-mode') ? 'üåû' : 'üåô';
    }

    // Atualizar campos ocultos de data
    document.getElementById('data').addEventListener('change', function() {
      let dateValue = this.value;
      if (dateValue) {
        let parts = dateValue.split("-");
        document.getElementById('data_year').value = parts[0];
        document.getElementById('data_month').value = parseInt(parts[1], 10);
        document.getElementById('data_day').value = parseInt(parts[2], 10);
      }
    });

    // Mostrar mensagem de sucesso ao enviar o formul√°rio
    document.getElementById('expenseForm').addEventListener('submit', function() {
      setTimeout(function() {
        document.getElementById('successMessage').style.display = 'block';
      }, 500);
    });
  </script>
</body>
</html>
